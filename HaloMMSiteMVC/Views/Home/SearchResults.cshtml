@model HaloMMSiteMVC.Models.Player
@{
    ViewBag.Title = "Search Results";
    Layout = "~/Views/Shared/_Layout.cshtml";
}



@*if there's no error text in the ViewBag, don't display error box*@
@if (ViewBag.Error != "")
{
    <div class="errortext">@ViewBag.Error</div>
    <br />
}


    

    <form action="SearchResults" method="post">
        <div>
            <img id="infoIcon" src="~/Content/information.png" />
        </div>
        Gamertag 1<br>
        <input type="text" name="gt1"><br><br>
        Gamertag 2<br>
        <input type="text" name="gt2"><br><br>

        <label>Matchmaking</label>
        @Html.CheckBox("mmCheckBox") <br />
        <label>Custom Games</label>
        @Html.CheckBox("cusCheckBox") <br />

        <input type="submit" value="Search">
    </form>

@if (Model.Name != null)
{
    <table>
        <tr>


            <th>
                Date
            </th>
            <th>
                Link
            </th>
            <th>
                Map
            </th>
            <th>
                Gametype
            </th>
            <th>
                Playlist
            </th>
        </tr>


        @foreach (var item in Model.GameList)
        {
            string gID = item.GameID.ToString();
            <tr>
                <td>
                    @Html.DisplayFor(Model => item.Date)
                </td>
                <td>
                    <a href='https://halo.bungie.net/Stats/GameStatsHalo3.aspx?gameid=@gID' target="_blank">Link</a>
                </td>
                <td>
                    @Html.DisplayFor(Model => item.Map)
                </td>
                <td>
                    @Html.DisplayFor(Model => item.Gametype)
                </td>
                <td>
                    @Html.DisplayFor(Model => item.Playlist)
                </td>
            </tr>
        }
    </table>
}
